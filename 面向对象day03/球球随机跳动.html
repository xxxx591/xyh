<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>
		
			.smallball{
				width: 40px;height: 40px;background: red;border-radius: 50%;position: absolute;
			}
			
		</style>
	</head>
	<body>
		<div id="bigbox" style="width: 500px;height: 500px;border: 1px solid black;">
			
		</div>
		<button id="pause" >暂停</button>
	</body>
	<script>
		var pause = document.getElementById("pause");
		var bigbox = document.getElementById("bigbox");
		var BallMove = function BallMove () {
			
			this.move();
			this.ball();
			this.d = 40;
			this.left = parseInt(Math.random()*bigbox.clientWidth - this.d);
			this.top = parseInt(Math.random()*bigbox.clientHeight - this.d);
			
			
		}
		BallMove.prototype.ball = function () {
			
			this.dom=document.createElement("div");
			this.dom.className = "smallball";
			document.body.appendChild(this.dom);
			this.dom.style.left = this.left + "px";
			this.dom.style.top = this.top + "px";
		} 
		BallMove.prototype.move = function  () {
			
			var self = this
			var stepx = parseInt(Math.random() * 10);
			var stepy = parseInt(Math.random() * 10);
			var timer = setInterval(function  () {
			var l = stepx + self.dom.offsetLeft;
			var t = stepy + self.dom.offsetHeight;
			
//			console.log(self.dom)
			
			
			if (l >= bigbox.offsetWidth - self.dom.offsetLeft) {
				stepx -= 2; 
				l = bigbox.offsetWidth - self.dom.offsetLeft
			} else if (l <= 0){
				stepx = 2;
				l = 0;
			}
			console.log(stepx);
			if (t >= bigbox.offsetHeight - self.dom.offsetTop) {
				stepy -= 2; 
				t = bigbox.offsetHeight - self.dom.offsetTop
			} else if (t <= 0){
				stepy = 2;
				t = 0;
			}
		},1000)
			
			pause.onclick=function  () {
			clearInterval(timer)
		}
		}
		
		
		
		
		new BallMove();
		
	</script>
</html>
